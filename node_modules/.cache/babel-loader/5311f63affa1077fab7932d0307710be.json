{"ast":null,"code":"import _slicedToArray from \"/Users/developer/Documents/Nuestro/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/developer/Documents/Nuestro/src/app/containers/home/home-page.jsx\";\nimport React, { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport BannerBottom from '../../components/banner-bottom/banner-bottom';\nimport Logo from '../../../assets/images/logo-cooa.png';\nimport ErrorIcon from \"../../../assets/icons/error_Icon.svg\";\nimport './home-page.css';\nimport axios from \"axios\";\n\nconst Home = ({\n  history,\n  data,\n  ref\n}) => {\n  const _useForm = useForm(0),\n        register = _useForm.register,\n        handleSubmit = _useForm.handleSubmit,\n        errors = _useForm.errors;\n\n  const _useState = useState(0),\n        _useState2 = _slicedToArray(_useState, 2),\n        login = _useState2[0],\n        setLogin = _useState2[1];\n\n  const _useState3 = useState(true),\n        _useState4 = _slicedToArray(_useState3, 2),\n        stateButton = _useState4[0],\n        setStateButton = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        stateDOM = _useState6[0],\n        setStateDOM = _useState6[1];\n\n  let dataValue = undefined;\n  document.addEventListener(\"change\", () => {\n    setStateDOM(true);\n  });\n\n  const onSubmit = dataForm => {\n    if (stateButton) {\n      setStateButton(false);\n      dataValue = dataForm;\n      Auth(dataValue);\n    } else if (!stateButton) {\n      alert(\"espere un momento por favor\");\n    }\n  };\n\n  async function Auth(dataValue) {\n    await axios.post('https://master-ccoa.iatech.com.co:4001/api/auth/validateuser', {\n      nit: dataValue.nit\n    }).then(response => {\n      if (response.status === 200 && response.data.ok === true) {\n        const token = {\n          auth: true,\n          nit: dataValue.nit\n        };\n        setStateButton(true);\n        localStorage.setItem(\"Token\", JSON.stringify(token));\n        history.push('/preview');\n      } else if (response.status === 204) {\n        setStateButton(true);\n        setLogin(1);\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  function show() {\n    console.log(login);\n  }\n\n  function calc() {\n    let heightPage = parseInt(window.getComputedStyle(document.querySelector(\".Box\")).height);\n    document.querySelector('.Box').style.height = heightPage + \"px\";\n  }\n\n  document.addEventListener(\"DOMContentLoaded\", calc);\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"Box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"HomePage\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: Logo,\n    alt: \"LOGO COOA\",\n    onClick: show,\n    title: \"Logo COOA\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \" Bienvenido a la plataforma de actualizaci\\xF3n de datos \", React.createElement(\"br\", {\n    className: \"brr\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }), \" y autorizaci\\xF3n de habeas data de la CCOA \"), React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    autoComplete: \"off\",\n    name: \"nit\",\n    ref: register({\n      required: true\n    }),\n    placeholder: \"Digite el NIT\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"errorRequired\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \" \", errors.nit && 'Debe ingresar su NIT', \" \"), login === 1 ? React.createElement(\"div\", {\n    className: \"notLogin\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \" \", React.createElement(\"img\", {\n    src: ErrorIcon,\n    className: \"icon-error\",\n    alt: \"Icono de Error\",\n    title: \"Icono de Error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), \" \", React.createElement(\"div\", {\n    className: \"info-error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \" El NIT ingresado no se encuentra en nuestra base de datos. \", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \" Intente nuevamente\"), \" \"), \" \") : null, React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \" Enviar \", stateButton ? null : React.createElement(\"div\", {\n    className: \"loader\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"Loading...\"), \" \"))), React.createElement(BannerBottom, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  })));\n};\n\nexport default Home;","map":{"version":3,"sources":["/Users/developer/Documents/Nuestro/src/app/containers/home/home-page.jsx"],"names":["React","useState","useForm","BannerBottom","Logo","axios","Home","history","data","ref","register","handleSubmit","errors","login","setLogin","stateButton","setStateButton","stateDOM","setStateDOM","dataValue","undefined","document","addEventListener","onSubmit","dataForm","Auth","alert","post","nit","then","response","status","ok","token","auth","localStorage","setItem","JSON","stringify","push","catch","error","console","log","show","calc","heightPage","parseInt","window","getComputedStyle","querySelector","height","style","required","ErrorIcon"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,OAAOC,YAAP,MAAyB,8CAAzB;AACA,OAAOC,IAAP,MAAiB,sCAAjB;;AAEA,OAAO,iBAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAGA,MAAMC,IAAI,GAAG,CAAC;AAAEC,EAAAA,OAAF;AAAWC,EAAAA,IAAX;AAAiBC,EAAAA;AAAjB,CAAD,KAA2B;AAAA,mBAEMP,OAAO,CAAC,CAAD,CAFb;AAAA,QAE5BQ,QAF4B,YAE5BA,QAF4B;AAAA,QAElBC,YAFkB,YAElBA,YAFkB;AAAA,QAEJC,MAFI,YAEJA,MAFI;;AAAA,oBAGVX,QAAQ,CAAC,CAAD,CAHE;AAAA;AAAA,QAG7BY,KAH6B;AAAA,QAGtBC,QAHsB;;AAAA,qBAIEb,QAAQ,CAAC,IAAD,CAJV;AAAA;AAAA,QAI7Bc,WAJ6B;AAAA,QAIhBC,cAJgB;;AAAA,qBAKJf,QAAQ,CAAC,KAAD,CALJ;AAAA;AAAA,QAK7BgB,QAL6B;AAAA,QAKnBC,WALmB;;AAMpC,MAAIC,SAAS,GAAGC,SAAhB;AAEAC,EAAAA,QAAQ,CAACC,gBAAT,CAA0B,QAA1B,EAAoC,MAAM;AAACJ,IAAAA,WAAW,CAAC,IAAD,CAAX;AAAkB,GAA7D;;AAEA,QAAMK,QAAQ,GAAGC,QAAQ,IAAI;AACzB,QAAGT,WAAH,EAAe;AACXC,MAAAA,cAAc,CAAC,KAAD,CAAd;AACAG,MAAAA,SAAS,GAAGK,QAAZ;AACAC,MAAAA,IAAI,CAACN,SAAD,CAAJ;AACH,KAJD,MAIO,IAAG,CAACJ,WAAJ,EAAgB;AACnBW,MAAAA,KAAK,CAAC,6BAAD,CAAL;AACH;AACJ,GARD;;AAUD,iBAAeD,IAAf,CAAoBN,SAApB,EAA+B;AAC3B,UAAMd,KAAK,CAACsB,IAAN,CAAW,8DAAX,EACN;AAACC,MAAAA,GAAG,EAAGT,SAAS,CAACS;AAAjB,KADM,EACkBC,IADlB,CACwBC,QAAD,IAAe;AACvC,UAAGA,QAAQ,CAACC,MAAT,KAAoB,GAApB,IAA2BD,QAAQ,CAACtB,IAAT,CAAcwB,EAAd,KAAqB,IAAnD,EAAwD;AACpD,cAAMC,KAAK,GAAG;AAACC,UAAAA,IAAI,EAAG,IAAR;AAAcN,UAAAA,GAAG,EAAGT,SAAS,CAACS;AAA9B,SAAd;AACAZ,QAAAA,cAAc,CAAC,IAAD,CAAd;AACAmB,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAeL,KAAf,CAA9B;AACA1B,QAAAA,OAAO,CAACgC,IAAR,CAAa,UAAb;AACH,OALD,MAKM,IAAGT,QAAQ,CAACC,MAAT,KAAoB,GAAvB,EAA2B;AAC7Bf,QAAAA,cAAc,CAAC,IAAD,CAAd;AACAF,QAAAA,QAAQ,CAAC,CAAD,CAAR;AACH;AACJ,KAXI,EAWF0B,KAXE,CAWKC,KAAD,IAAS;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KAbI,CAAN;AAcF;;AAEF,WAASG,IAAT,GAAgB;AACXF,IAAAA,OAAO,CAACC,GAAR,CAAY9B,KAAZ;AACH;;AAEL,WAASgC,IAAT,GAAe;AACX,QAAIC,UAAU,GAAGC,QAAQ,CAACC,MAAM,CAACC,gBAAP,CAAwB5B,QAAQ,CAAC6B,aAAT,CAAuB,MAAvB,CAAxB,EAAwDC,MAAzD,CAAzB;AACI9B,IAAAA,QAAQ,CAAC6B,aAAT,CAAuB,MAAvB,EAA+BE,KAA/B,CAAqCD,MAArC,GAA8CL,UAAU,GAAG,IAA3D;AACP;;AAEDzB,EAAAA,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,EAA8CuB,IAA9C;AAGI,SACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,GAAG,EAAEzC,IAAV;AAAgB,IAAA,GAAG,EAAC,WAApB;AAAgC,IAAA,OAAO,EAAEwC,IAAzC;AAA+C,IAAA,KAAK,EAAC,WAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kEAAyD;AAAI,IAAA,SAAS,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAzD,kDAFJ,EAGI;AAAM,IAAA,QAAQ,EAAEjC,YAAY,CAACY,QAAD,CAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,YAAY,EAAC,KAAhC;AAAsC,IAAA,IAAI,EAAC,KAA3C;AAAiD,IAAA,GAAG,EAAEb,QAAQ,CAAC;AAAC2C,MAAAA,QAAQ,EAAC;AAAV,KAAD,CAA9D;AAAiF,IAAA,WAAW,EAAC,eAA7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAK,IAAA,SAAS,EAAE,eAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAmCzC,MAAM,CAACgB,GAAP,IAAc,sBAAjD,MAFJ,EAGIf,KAAK,KAAK,CAAV,GAAc;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAA2B;AAAK,IAAA,GAAG,EAAEyC,SAAV;AAAqB,IAAA,SAAS,EAAC,YAA/B;AAA4C,IAAA,GAAG,EAAC,gBAAhD;AAAiE,IAAA,KAAK,EAAC,gBAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAA3B,OAAqH;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qEAAwF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAxF,MAArH,MAAd,GAA4Q,IAHhR,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiBvC,WAAW,GAAG,IAAH,GAAU;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAtC,MAJJ,CAHJ,CADA,EAWA,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXA,CADJ,CADJ;AAiBH,CAlED;;AAmEA,eAAeT,IAAf","sourcesContent":["import React, { useState }  from 'react';\r\nimport { useForm } from 'react-hook-form'\r\nimport BannerBottom from '../../components/banner-bottom/banner-bottom';\r\nimport Logo from '../../../assets/images/logo-cooa.png';\r\nimport ErrorIcon  from \"../../../assets/icons/error_Icon.svg\";\r\nimport './home-page.css';\r\nimport axios from \"axios\";\r\n\r\n\r\nconst Home = ({ history, data, ref }) =>{\r\n\r\n    const { register, handleSubmit, errors} = useForm(0);\r\n    const [login, setLogin] = useState(0);\r\n    const [stateButton, setStateButton] = useState(true);\r\n    const [stateDOM, setStateDOM] = useState(false);\r\n    let dataValue = undefined;\r\n\r\n    document.addEventListener(\"change\", () => {setStateDOM(true)});\r\n\r\n    const onSubmit = dataForm => {\r\n        if(stateButton){\r\n            setStateButton(false);\r\n            dataValue = dataForm;\r\n            Auth(dataValue);\r\n        } else if(!stateButton){\r\n            alert(\"espere un momento por favor\");\r\n        }\r\n    }\r\n    \r\n   async function Auth(dataValue) {\r\n       await axios.post('https://master-ccoa.iatech.com.co:4001/api/auth/validateuser',\r\n       {nit : dataValue.nit }).then((response)  => {\r\n            if(response.status === 200 && response.data.ok === true){\r\n                const token = {auth : true, nit : dataValue.nit }\r\n                setStateButton(true);\r\n                localStorage.setItem(\"Token\", JSON.stringify(token)); \r\n                history.push('/preview');           \r\n            }else if(response.status === 204){\r\n                setStateButton(true);              \r\n                setLogin(1);\r\n            }\r\n        }).catch((error)=>{\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n   function show() {\r\n        console.log(login);\r\n    }\r\n\r\nfunction calc(){\r\n    let heightPage = parseInt(window.getComputedStyle(document.querySelector(\".Box\")).height);\r\n        document.querySelector('.Box').style.height = heightPage + \"px\";\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", calc);\r\n\r\n\r\n    return(\r\n        <React.Fragment>\r\n            <div className=\"Box\">\r\n            <div className='HomePage'>\r\n                <img src={Logo} alt=\"LOGO COOA\" onClick={show} title=\"Logo COOA\" />\r\n                <p> Bienvenido a la plataforma de actualización de datos <br className=\"brr\" /> y autorización de habeas data de la CCOA </p>\r\n                <form onSubmit={handleSubmit(onSubmit)}>\r\n                    <input type=\"text\" autoComplete=\"off\" name=\"nit\" ref={register({required:true})} placeholder=\"Digite el NIT\"/> \r\n                    <div className =\"errorRequired\"> { errors.nit && 'Debe ingresar su NIT'} </div> \r\n                   {login === 1 ? <div className=\"notLogin\"> <img src={ErrorIcon} className=\"icon-error\" alt=\"Icono de Error\" title=\"Icono de Error\"/> <div className=\"info-error\"> El NIT ingresado no se encuentra en nuestra base de datos. <span> Intente nuevamente</span> </div> </div> : null  } \r\n                    <button> Enviar {stateButton ? null : <div className=\"loader\">Loading...</div> } </button>\r\n                </form>\r\n            </div>\r\n            <BannerBottom/>                  \r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}\r\nexport default Home;"]},"metadata":{},"sourceType":"module"}